---
title: "[solvesql] 난이도1 문제 풀이"
excerpt: ""

categories:
  - SQL
tags:
  - [sql, solvesql, SQLite]

permalink: /categories2/post-name-here-2/

toc: true
toc_sticky: true

date: 2023-08-16
last_modified_at: 2023-08-16
---
안녕하세요 !\
solvesql 난이도 1의 문제 풀이 중, 헷갈렸던 문법들을 정리하려고 합니다.


## 최근 올림픽이 개최된 도시
2000년 이후 올림픽이 개최된 도시의 이름을 앞에서부터 3글자만 출력하시오. (올림픽 개최년도와 개최 도시만 출력하되, 도시 이름은 대문자로 출력, 개최년도를 기준으로 내림차순)\
<span style="background-color:#f5f0ff">\#문자열 추출 #대문자 변환</span>


- 문제 풀이
  
```sql
SELECT year, upper(substr(city, 1, 3))
FROM games
WHERE year >= 2000 ;
```

+ 풀이 과정\
1. year 컬럼이 2000년 이상인 데이터 필터링한다.\
2. city 컬럼의 튜플들을 앞에서부터 3글자만 출력한다.\
3. 2번 수행의 결과를 대문자로 변환하여 출력한다.

+ 새로 배운 함수\
위의 풀이과정은 떠올릴 수 있었지만, 문자열 추출 및 대문자 변환 함수를 알지 못했다.\
+ SUBSTR(변수, 시작 인덱스, 종료 인덱스) : 문자열 추출\
+ UPPER() : 대문자 변환

     	

## 최고의 근무일을 찾아라
요일별로 팁 총액을 집계하고 팁이 가장 많았던 요일과 그날의 팁 총액 출력하시오.\
<span style="background-color:#f5f0ff">\#집계함수 #GROUP BY #ORDER BY</span>


- 문제 풀이

```sql  
SELECT day, sum(tip) as tip_daily
FROM tips
GROUP BY day
ORDER BY tip_daily desc
LIMIT 1 ;
```


## 첫 주문과 마지막 주문
첫 주문 일자와 마지막 주문 일자를 출력하시오.\
<span style="background-color:#f5f0ff">\#날짜 #집계함수</span>


- 문제 풀이

```sql
SELECT date(min(order_purchase_timestamp)) as first_order_date,
			date(max(order_purchase_timestamp)) as last_order_date
FROM olist_orders_dataset ;
```

## 많이 주문한 테이블 찾기
식사 금액이 테이블 당 평균 식사 금액보다 더 많은 경우를 모두 출력하시오.\
<span style="background-color:#f5f0ff">\#집계합수 #Sub-Query</span>

- 문제 풀이

```sql
SELECT *
FROM tips
WHERE total_bill > (select avg(total_bill) from tips) ;
```

## 레스토랑의 일일 평균 매출액 계산하기
레스토랑의 일일 평균 매출을 계산하여 출력하시오. (소수점은 둘째 자리까지 표시)\
<span style="background-color:#f5f0ff">\#집계합수 #Sub-Query</span>

- 문제 풀이

```sql
SELECT round(avg(plus),2) as avg_sales
FROM (SELECT sum(total_bill) as plus, day 
      FROM tips 
      GROUP BY day)
```

